var queue = [733419,733420,733421,733422,733423,733424,733425,733426,733427,733428,733429,733430,733431,733432,733433,733434,733435,733436,733437,733438,733439,733440,733441,733442,733443,733444,733445,733446,733447,733448,733449,733450,733451,733452,733453,733454,733455,733456,733457,733458,733459,733460,733461,733462,733463,733464,733465,733466,733527,733528,733529,733531,733532,733533,733535,734140,734141,734163,734173,734174,734175,734176,734177,734178,734179,734180,734181,734182,734183,734184,734185,734186,734187,734188,734189,734190,734191,734192,734193,734194,734195,734196,734197,734198,734199,734200,734201,734202,734203,734206,734207,734208,734209,734210,734211,734212,734213,734214,734215,734217,734218,734219,734220,734221,734222,734223,734227,734228,734229,734230,734232,734233,734234,734235,734236,734237,734238,744767,744768,744769,758066,758067,758068,758069,758475,758476]
var __token ='898f99a7-8784-13db-83ff-16bd497e8754'
var views = "3.138.248"
var cokie_1 = "comment_name=CHiáº¿n Tháº§n; _gid=GA1.2.27935727.1690620689; ASP.NET_SessionId=05ey3uo50iaskpqideslrp0u; ASP.NET_SessionId=ud3yxrwtim50vz1emiwtsip3; returnurl1=/; .ASPXAUTH=6740BF2AC43199ADB33CE5D5564D0447563201BB113937D289087F33B3E511EE9EE1E3D5011619BE215CB66F80C6A8B45105FB29A4528FAF3D23795648F90BC9717D9062173A417093B19F574594E602670F256362453B2349DED0E786B536E1524750B4BE4AD8CCA431E3155FF9DA3CC67E058D66E2B5B612E41C53108DAAD6687629FFE9AE65B43C0F43344E2EACEA95B8CB2F59979F2F9E1D534DCC6619EF62365925C7ED6BA464F76E5253786F96A5C1C3F5FBCFCCC69106C8244B53C9FBC5101FAE1E8B614F623CB2B32F4CE66EEA65442C0879BEAA83AA9CAF0BB69C6F9AEDE229; www.nettruyenmax.comportalroles=19161766951007573AF1577CB48E6C8DDDC27CFD70979D8C43516FDFD7F8F1949A8D78F12030ECC47C2CD9CBAA7DFBC977CA94EF18B86430CFA7515B728CD6CDEEF30EE804406AE63BCC5CB0DF4FD798FA9265D95626B48146910EDC9F4436180B3F22A33AF2679F8F222C277AEE4BEF439863196B7A1AA0768696C074254EE981E43AD252CC8310FFCAA9EF1E3980929C2400289ADB18AA76EB1943CBC7E1EAEE95884099A889AA483558DC89B8A9F9DC9ADAE4D6C58A24141919D9B344EA7B83A3A2F8; _gat_gtag_UA_57670566_10=1; f.nettruyenmax.comportalroles=; DisplayName=; comicvisitor=970f601e-86b1-46fb-9a77-7f37e608bf77; comicread=970f601e-86b1-46fb-9a77-7f37e608bf77; _ga=GA1.1.780534756.1687262041; _ga_4X7L3HYB4K=GS1.1.1690676714.27.1.1690676784.0.0.0"
var cokie_2 = "comment_name=huhu huhu; _gid=GA1.2.27935727.1690620689; ASP.NET_SessionId=ud3yxrwtim50vz1emiwtsip3; returnurl1=/; _gat_gtag_UA_57670566_10=1; prefetchAd_5575536=true; .ASPXAUTH=2696C6D57264FE78E5168FD44FD7F352A6459DADF793E71147C0736CFBDCB858260133E633D3C4AF65BA8683D5D1CB0F7EAB47943B25108C00F3A8075293B427D4CB4BD7B5A8339632A42FB1B5CAF21A77AAC040B8CFBA6CFC5FC6BFE614ED77CE157D6AB35E03BE27865CE7EC4F58D78E48DE6C657A065DA41793D411E6E77BF91265FF4C4F7B6EEFB67DA05536A504BFC06A8E32D42B808E8B6E18E2E21D859CB3136B936B517274FA6E570B333AC1212CED22D5B28223D35A97175ECE5389FA794A589EF2FE0C71411E3333A28D92F7DB7DFB; www.nettruyenmax.comportalroles=33CBA4F4B078F08715DA1FB0BB36FAF1197F4644A47A2F82B47F59035517AE71B01C1721D4F06D2A6F0B4A2C9AFEB4C129B27B8617657B2D2AA66416D708683C4F7109A4564E0F053EE2FD4B8A19830E08B79EF99919B29C9FFB778C58A17E26D47F328F4ADB01B95A7846AD41695235A36917C36D4942A70B74790295DE712F268F65E7C911776A8820B7657EB341054198F8FA67D85FC1AE1DA3808D82A5E77D8F943FE438C4CEFB46B2EBE2038CB04EE35055; _ga=GA1.2.780534756.1687262041; _ga_4X7L3HYB4K=GS1.1.1690676714.27.1.1690677275.0.0.0"
var cokie_3 = "comment_name=No name; _gid=GA1.2.27935727.1690620689; ASP.NET_SessionId=ud3yxrwtim50vz1emiwtsip3; returnurl1=/; prefetchAd_5575536=true; _gat_gtag_UA_57670566_10=1; .ASPXAUTH=897FACBE7F54AC4FF548C409E95E64A13964F89609C1EBE8A69EE87ABE446E55358DA8E242CB0831D17388F083C95E56D879FC56362170D61D2D271B0F4E0EF90197E55312C99CDF3028376F1C6D9DA7D631C60DE4F88E53D5094D0259EDF3B867674CC16D051F46DD34ABB39FF19EF48632CED55CDB26D8A1F8250C2ED75D131D1DE894080B353F47CDEF221691833928C29033BD68661F0C3F3EA0F0E7724F8152D68C8A31C7632F2E4FF98708EDADC71BD65613DDD7381A8C7D056EDD555C0238031220E4CC324BA792A7F449DCB32E1EBA88; www.nettruyenmax.comportalroles=FDDAA4052284D1B968D6B21D585D55052A85552F1BE968884DEBA9441EA084D6816A25153A3FD77578211919EA00286F0B8010A54D8F87153440F77846DF4137240A86D2F8DAAB9A9AE8C11BC332DBD4B788336808CB322FA01463DA1DA2D4E07122C1894B26E402DADE4D9600F16B4C1D0CAD00C13611259730A0D79C37793FD84CCCD8810D6E190B2279183C753E76655384EA5EADE1BD1D208370BF358F025A7B4E64C91EC4762D8B02597FA0E3D9A7EADA5F; _ga=GA1.2.780534756.1687262041; _ga_4X7L3HYB4K=GS1.1.1690676714.27.1.1690677337.0.0.0"
var cokie_4 = "comment_name=FFFFFFFFF; _gid=GA1.2.27935727.1690620689; ASP.NET_SessionId=ud3yxrwtim50vz1emiwtsip3; returnurl1=/; prefetchAd_5575536=true; .ASPXAUTH=561BFD658E424024D474F0BF6C2FB2638D0AAFEB63387C46529CD9F0B812F7778E2F9D2EF74DCE0EC600A558EE19BE96C7BAD01571BC2FBF57F0240D0B6C54C769F665EC96B8F373B5BDF76E2149A8C92FD32FE12A8E2D36119022428F94DD3909172C2FECFD758258C17703EF95B5A60FE07F12EC2AA324A09FD44707902BC51BA41EAA53765C71D759684C684EA3C6D7754FB67B6D727151BD8D50FD40FC64B885B6908F5F0B091EEA31752B8A51B8B43084A5F3D17DE9B6D44222669231D1D21DEBBA8FE63C48D4CE1115D119EB0DD7CB58FB; www.nettruyenmax.comportalroles=D5F7BE537827A93F908EF69308D95E57E3CA6D0F9A0F4D8384EC5A1880F078BC8F873C2BAAB99D9519C5D18C3B80847BD4C9B54B530EB0111C7E8BFE51FAE129E35A0D2C5C47A0532CCD44B393933BED38179306F1F4F63BDEEFD0142B860D7B79143C15C13CF29F7EF22DE90F0922269C90265953EAC9841284D114EC0F69703EE7BE813C5D2D831DA4BACCA5B65133F6589BD527D1EEA6F2A5F78521CBBC71794F08383F6CE2AFD07B7F6B0F7178D938E73D3C; _gat_gtag_UA_57670566_10=1; _ga_4X7L3HYB4K=GS1.1.1690676714.27.1.1690677379.0.0.0; _ga=GA1.1.780534756.1687262041"




var __count =0
async function readchap(num,ctoken,cokie,numcokie){
    await new Promise((resolve) => {
        let data = {
            chapterId: queue[num],
            comicToken: ctoken,
            userToken: ''
        }
        
        fetch('https://f.nettruyenmax.com/Comic/Services/ComicService.asmx/ChapterLoaded',{
            method: "POST",
            headers: {
                'Content-Type': "application/json",
                'Cookie': cokie,
            },
            body:JSON.stringify(data),
        })
            .then((response) => response.text())
            .then((body) => {
                var er = body
                let succ = er.match(/"success":(.*?),/)[1]
                if(succ=="true"){
                   resolve()
                    let token = er.match(/"token":"(.*?)"/)[1]
                    let dataread ={
                        chapterId: data.chapterId,
                        token: token
                    }
                    
                    fetch('https://f.nettruyenmax.com/Comic/Services/ComicService.asmx/Read',{
                        method: "POST",
                        headers: {
                            'Content-Type': "application/json",
                            'Cookie':cokie,
                        },
                        body:JSON.stringify(dataread),
                    })
                        .then((response) => response.text())
                        .then((body) => {
                            let succ2 = (body.match(/"success":(.*?),/)||[])[1]
                            console.log(body,__count)
                            if(succ2=='true'){
                                __count++
                            }else{
                            }
                        }); 
                }
            }); 
    })
}


async function main(){
    for(i=0;i<queue.length;i++){
        await readchap(i,__token,cokie_1,'c1')
        await readchap(i,__token,cokie_2,'c2')
        await readchap(i,__token,cokie_3,'c3')
        await readchap(i,__token,cokie_4,'c4')
    }
    main()
}

main()